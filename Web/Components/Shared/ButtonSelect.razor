@typeparam TValue where TValue : notnull

<div class="flex flex-wrap" role="group">
  @foreach (var option in Options)
  {
    var isSelected = EqualityComparer<TValue>.Default.Equals(Value, option.Key);
    var btnClass = isSelected
    ? "bg-blue-600 text-blue-50 hover:bg-blue-700"
    : "bg-gray-800 text-blue-400 border border-blue-400 hover:bg-gray-700";
    <button type="button" class="px-4 py-2 rounded font-semibold transition-colors duration-200 @btnClass mx-1"
      @onclick="() => HandleSelect(option.Key)">
      @option.Value
    </button>
  }
</div>

@code {
  [Parameter] public Dictionary<TValue, string> Options { get; set; } = new();
  [Parameter] public TValue Value { get; set; } = default!;
  [Parameter] public EventCallback<TValue> ValueChanged { get; set; }
  private async Task HandleSelect(TValue newValue)
  {
    if (!EqualityComparer<TValue>.Default.Equals(Value, newValue))
    {
      Value = newValue;
      await ValueChanged.InvokeAsync(newValue);
    }
  }
}